# 引入 Beautiful Soup 模块
from bs4 import BeautifulSoup
import requests
import json
import datetime
# 这个py是用来检测政府信息公开工作年报的，62个部门都有公开
# 这个文件不能直接运行第三步，要运行第二步找到所有单位所有公开的年份，第三步只是分析年份是否有缺失，以及对应年份链接是否正确，发布时间是否正确

def getAllbumen(prox):
    url = 'http://www.scpc.gov.cn/public/column/6601841?type=4&action=rel'
    data = {}
    headers = {
        'Accept': '*/*',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
        'Connection': 'keep-alive',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'
    }
    response = requests.get(url, headers=headers, data=data,proxies=prox)

    # 以 Beautiful Soup 解析 HTML 程序码
    soup = BeautifulSoup(response.text, 'html.parser')

    # 提取所有 ul 标签下的所有 li 元素
    li_elements = []
    for ul in soup.find_all('ul', class_='clearfix'):
        li_elements += ul.find_all('li')

    # 将 li 元素转换为字典
    bumenList = {}
    for li in li_elements:
        a_element = li.find('a')
        if a_element is not None:
            title = a_element.get('title')
            href = a_element.get('href')
            bumenList[title] = href

    # 输出字典
    print(bumenList)
    return bumenList
def getMenniu(prox,bumen):
    if not bumen.startswith('http'):
        bumen = 'http://www.scpc.gov.cn' + bumen
    data = {}
    headers = {
        'Accept': '*/*',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
        'Connection': 'keep-alive',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'
    }
    response = requests.get(bumen, headers=headers, data=data,proxies=prox)
    # 以 Beautiful Soup 解析 HTML 程序码
    soup = BeautifulSoup(response.text, 'html.parser')
    # 提取 id 为 fdzd_gknr 的 div 标签下的所有 a 标签
    a_elements = soup.find('ul', {'id': 'timeFrame'}).find_all('a')
    # 输出所有 a 标签的文本内容和链接地址
    menuList={}
    for a in a_elements:
        # print(f'{a.text}: {a["href"]}')
        if a is not None:
            title = a.text
            href = a["href"]
            menuList[title] = href
    return menuList
def getTime(prox,menu):
    if not menu.startswith('http'):
        menu = 'http://www.scpc.gov.cn' + menu

    data = {}
    headers = {
        'Accept': '*/*',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
        'Connection': 'keep-alive',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36'
    }
    response = requests.get(menu, headers=headers, data=data,proxies=prox)

    # 以 Beautiful Soup 解析 HTML 程序码
    soup = BeautifulSoup(response.text, 'html.parser')
    li_elements = soup.find_all('li', {'class': 'rq'})
    print(li_elements)
    if len(li_elements) ==1:
        return '无'
    second_li_element = li_elements[1]

    return second_li_element.text
def sendMsgError(tittle,content):
    data = {
        "msgtype": "markdown",
        "markdown": {
            "content": f"{tittle}\n\n\n{content}"
        }
    }
    # 定义企业微信机器人的webhook地址
    url = "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=425a53f6-696e-46c1-9d4a-fae8940b136f"

    # 发送HTTP POST请求
    response = requests.post(url, data=json.dumps(data))
    # 输出响应结果
    print(response.text)
def sendMsg(msg):
    # 定义要发送的消息内容
    x = len(msg)
    data = {
        "msgtype": "markdown",
        "markdown": {
            "content": f" # 政府信息公开年报监测\n\n 今日检测到<font color=\"warning\">{x}</font>个单位政府信息公开年报缺失，请及时上传\n\n\n"
        }
    }

    # 添加每个单位的信息
    for key, value in msg.items():
        data["markdown"]["content"] += f"### {key}-"
        # 这里应该用value而不是value.items()，因为value已经是一个列表了
        data["markdown"]["content"] += f" 缺少: {', '.join(value)}\n\n"

        # 定义企业微信机器人的webhook地址  测试群
        # url = "https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=425a53f6-696e-46c1-9d4a-fae8940b136f"
        # 正式群
        url = 'https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=6c00ba33-68ab-403e-bab2-2b9134a7d7f6'

    # 发送HTTP POST请求
    # 这里应该用json参数而不是data参数，因为你要发送的是json格式的数据
    response = requests.post(url, json=data)

    # 输出响应结果
    print(response.text)
def cacul(href):
    # 这里传进来的其实是字符串2023-11-7
    date = datetime.datetime.strptime(href, '%Y-%m-%d').date()
    delta = datetime.date.today() - date
    return delta.days

if __name__ == '__main__':
    # 这是第一步找到所有单位
    # bumenList = getAllbumen(None)
    bumenList = {'平昌县人民政府办公室': '/public/column/6601841?type=4&action=list', '平昌县发展和改革局': '/public/column/6601861?type=2', '平昌县经济和信息化局': '/public/column/6601881?type=2', '平昌县教育科技和体育局': '/public/column/6601901?type=2', '平昌县公安局': '/public/column/6601921?type=2', '平昌县民政局': '/public/column/6601941?type=2', '平昌县司法局': '/public/column/6601961?type=2', '平昌县财政局': '/public/column/6601981?type=2', '平昌县人力资源和社会保障局': '/public/column/6602001?type=2', '平昌县自然资源和规划局': '/public/column/6602021?type=2', '平昌县住房和城乡建设局': '/public/column/6602041?type=2', '平昌县交通运输局': '/public/column/6602061?type=2', '平昌县水利局': '/public/column/6602081?type=2', '平昌县农业农村局': '/public/column/6602101?type=2', '平昌县商务局': '/public/column/6602121?type=2', '平昌县文化广播电视和旅游局': '/public/column/6602141?type=2', '平昌县卫生健康局': '/public/column/6602161?type=2', '平昌县退役军人事务局': '/public/column/6602181?type=2', '平昌县应急管理局': '/public/column/6602201?type=2', '平昌县审计局': '/public/column/6602221?type=2', '平昌县市场监督管理局': '/public/column/6602241?type=2', '巴中市平昌生态环境局': '/public/column/6602261?type=2', '平昌县统计局': '/public/column/6602281?type=2', '平昌县乡村振兴局': '/public/column/6602301?type=2', '平昌县信访局': '/public/column/6602321?type=2', '平昌县林业局': '/public/column/6602341?type=2', '平昌县医疗保障局': '/public/column/6602361?type=2', '平昌县行政审批局': '/public/column/6602381?type=2', '平昌县综合行政执法局': '/public/column/6602401?type=2', '四川平昌经济开发区管理委员会': '/public/column/6604364?type=2', '平昌县金宝新区管理委员会': '/public/column/6602841?type=2', '平昌县佛头山管理委员会': '/public/column/6602881?type=2', '平昌县同州街道办事处': '/public/column/6603021?type=2', '平昌县江口街道办事处': '/public/column/6603041?type=2', '平昌县金宝街道办事处': '/public/column/6604081?type=2', '平昌县白衣镇人民政府': '/public/column/6603081?type=2', '平昌县涵水镇人民政府': '/public/column/6603541?type=2', '平昌县岳家镇人民政府': '/public/column/6603561?type=2', '平昌县西兴镇人民政府': '/public/column/6603521?type=2', '平昌县龙岗镇人民政府': '/public/column/6603241?type=2', '平昌县土垭镇人民政府': '/public/column/6603461?type=2', '平昌县佛楼镇人民政府': '/public/column/6603581?type=2', '平昌县响滩镇人民政府': '/public/column/6603101?type=2', '平昌县大寨镇人民政府': '/public/column/6603501?type=2', '平昌县驷马镇人民政府': '/public/column/6603061?type=2', '平昌县青云镇人民政府': '/public/column/6603621?type=2', '平昌县兰草镇人民政府': '/public/column/6603221?type=2', '平昌县澌岸镇人民政府': '/public/column/6603361?type=2', '平昌县粉壁镇人民政府': '/public/column/6603321?type=2', '平昌县得胜镇人民政府': '/public/column/6603261?type=2', '平昌县元山镇人民政府': '/public/column/6603161?type=2', '平昌县灵山镇人民政府': '/public/column/6603741?type=2', '平昌县土兴镇人民政府': '/public/column/6603481?type=2', '平昌县云台镇人民政府': '/public/column/6603181?type=2', '平昌县三十二梁镇人民政府': '/public/column/6604061?type=2', '平昌县板庙镇人民政府': '/public/column/6603201?type=2', '平昌县邱家镇人民政府': '/public/column/6603301?type=2', '平昌县笔山镇人民政府': '/public/column/6603121?type=2', '平昌县泥龙镇人民政府': '/public/column/6603661?type=2', '平昌县岩口镇人民政府': '/public/column/6603701?type=2', '平昌县镇龙镇人民政府': '/public/column/6603141?type=2', '平昌县望京镇人民政府': '/public/column/6603281?type=2', '平昌县江家口镇人民政府': '/public/column/6604071?type=2'}



    # 这是第二步 通过单位找政府信息公开年报所有列表得到的是部门名称下所有年份对应的地址
    bumen_Mennu_list={}
    for key, value in bumenList.items():
        menuDic = getMenniu(None,value)
        bumen_Mennu_list[key]=menuDic
    print(bumen_Mennu_list)

    # 这是第三步找更新时间
    # bumen_Mennu_list = {'平昌县人民政府办公室': {'2022年': '/public/column/6601841?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601841?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601841?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601841?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601841?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601841?type=3&nav=3&sub=5&publicYear=2017&hasContent=true', '2016年': '/public/column/6601841?type=3&nav=3&sub=6&publicYear=2016&hasContent=true'}, '平昌县发展和改革局': {'2022年': '/public/column/6601861?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601861?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601861?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601861?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601861?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601861?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县经济和信息化局': {'2022年': '/public/column/6601881?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601881?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601881?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601881?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601881?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601881?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县教育科技和体育局': {'2022年': '/public/column/6601901?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601901?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601901?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601901?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601901?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601901?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县公安局': {'2022年': '/public/column/6601921?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601921?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601921?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601921?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601921?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601921?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县民政局': {'2022年': '/public/column/6601941?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601941?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601941?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601941?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601941?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601941?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县司法局': {'2022年': '/public/column/6601961?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601961?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601961?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601961?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601961?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601961?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县财政局': {'2022年': '/public/column/6601981?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6601981?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6601981?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6601981?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6601981?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6601981?type=3&nav=3&sub=5&publicYear=2017&hasContent=true', '2016年': '/public/column/6601981?type=3&nav=3&sub=6&publicYear=2016&hasContent=true'}, '平昌县人力资源和社会保障局': {'2022年': '/public/column/6602001?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602001?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602001?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602001?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602001?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602001?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县自然资源和规划局': {'2022年': '/public/column/6602021?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602021?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602021?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602021?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602021?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602021?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县住房和城乡建设局': {'2022年': '/public/column/6602041?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602041?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602041?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602041?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602041?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602041?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县交通运输局': {'2022年': '/public/column/6602061?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602061?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602061?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602061?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602061?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602061?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县水利局': {'2022年': '/public/column/6602081?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602081?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602081?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602081?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602081?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602081?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县农业农村局': {'2022年': '/public/column/6602101?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602101?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602101?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602101?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602101?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602101?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县商务局': {'2022年': '/public/column/6602121?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602121?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602121?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县文化广播电视和旅游局': {'2022年': '/public/column/6602141?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602141?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602141?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602141?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602141?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602141?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县卫生健康局': {'2022年': '/public/column/6602161?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602161?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602161?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602161?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602161?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602161?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县退役军人事务局': {'2022年': '/public/column/6602181?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602181?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602181?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县应急管理局': {'2022年': '/public/column/6602201?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602201?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602201?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602201?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602201?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602201?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县审计局': {'2022年': '/public/column/6602221?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602221?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602221?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602221?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602221?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602221?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县市场监督管理局': {'2022年': '/public/column/6602241?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602241?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602241?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602241?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602241?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602241?type=3&nav=3&sub=5&publicYear=2017&hasContent=true', '2016年': '/public/column/6602241?type=3&nav=3&sub=6&publicYear=2016&hasContent=true'}, '巴中市平昌生态环境局': {'2022年': '/public/column/6602261?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602261?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602261?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602261?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602261?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602261?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县统计局': {'2022年': '/public/column/6602281?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602281?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602281?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602281?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602281?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602281?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县乡村振兴局': {'2022年': '/public/column/6602301?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602301?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602301?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602301?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602301?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602301?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县信访局': {'2022年': '/public/column/6602321?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602321?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602321?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县林业局': {'2022年': '/public/column/6602341?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602341?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602341?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602341?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602341?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602341?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县医疗保障局': {'2022年': '/public/column/6602361?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602361?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602361?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县行政审批局': {'2022年': '/public/column/6602381?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602381?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602381?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602381?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602381?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602381?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县综合行政执法局': {'2022年': '/public/column/6602401?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602401?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602401?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602401?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602401?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602401?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '四川平昌经济开发区管理委员会': {'2022年': '/public/column/6604364?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6604364?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6604364?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6604364?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6604364?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6604364?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县金宝新区管理委员会': {'2022年': '/public/column/6602841?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602841?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602841?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602841?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602841?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602841?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县佛头山管理委员会': {'2022年': '/public/column/6602881?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6602881?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6602881?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6602881?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6602881?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6602881?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县同州街道办事处': {'2022年': '/public/column/6603021?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603021?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603021?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603021?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603021?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603021?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县江口街道办事处': {'2022年': '/public/column/6603041?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603041?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603041?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603041?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603041?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603041?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县金宝街道办事处': {'2022年': '/public/column/6604081?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6604081?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6604081?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县白衣镇人民政府': {'2022年': '/public/column/6603081?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603081?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603081?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603081?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603081?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603081?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县涵水镇人民政府': {'2022年': '/public/column/6603541?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603541?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603541?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603541?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603541?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603541?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县岳家镇人民政府': {'2022年': '/public/column/6603561?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603561?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603561?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603561?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603561?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603561?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县西兴镇人民政府': {'2022年': '/public/column/6603521?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603521?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603521?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603521?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603521?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603521?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县龙岗镇人民政府': {'2022年': '/public/column/6603241?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603241?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603241?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603241?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603241?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603241?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县土垭镇人民政府': {'2022年': '/public/column/6603461?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603461?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603461?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603461?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603461?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603461?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县佛楼镇人民政府': {'2022年': '/public/column/6603581?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603581?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603581?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603581?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603581?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603581?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县响滩镇人民政府': {'2022年': '/public/column/6603101?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603101?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603101?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603101?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603101?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603101?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县大寨镇人民政府': {'2022年': '/public/column/6603501?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603501?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603501?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603501?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603501?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603501?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县驷马镇人民政府': {'2022年': '/public/column/6603061?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603061?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2019年': '/public/column/6603061?type=3&nav=3&sub=2&publicYear=2019&hasContent=true', '2018年': '/public/column/6603061?type=3&nav=3&sub=3&publicYear=2018&hasContent=true', '2017年': '/public/column/6603061?type=3&nav=3&sub=4&publicYear=2017&hasContent=true'}, '平昌县青云镇人民政府': {'2022年': '/public/column/6603621?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603621?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603621?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603621?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603621?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603621?type=3&nav=3&sub=5&publicYear=2017&hasContent=true', '2016年': '/public/column/6603621?type=3&nav=3&sub=6&publicYear=2016&hasContent=true'}, '平昌县兰草镇人民政府': {'2022年': '/public/column/6603221?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603221?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603221?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603221?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603221?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603221?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县澌岸镇人民政府': {'2022年': '/public/column/6603361?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603361?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603361?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603361?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603361?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603361?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县粉壁镇人民政府': {'2022年': '/public/column/6603321?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603321?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603321?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603321?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603321?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603321?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县得胜镇人民政府': {'2022年': '/public/column/6603261?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603261?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603261?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603261?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603261?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603261?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县元山镇人民政府': {'2022年': '/public/column/6603161?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603161?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603161?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603161?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603161?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603161?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县灵山镇人民政府': {'2022年': '/public/column/6603741?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603741?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603741?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603741?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603741?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603741?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县土兴镇人民政府': {'2022年': '/public/column/6603481?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603481?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603481?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603481?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603481?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603481?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县云台镇人民政府': {'2022年': '/public/column/6603181?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603181?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603181?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603181?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603181?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603181?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县三十二梁镇人民政府': {'2022年': '/public/column/6604061?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6604061?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6604061?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}, '平昌县板庙镇人民政府': {'2022年': '/public/column/6603201?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603201?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603201?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603201?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603201?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603201?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县邱家镇人民政府': {'2022年': '/public/column/6603301?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603301?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603301?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603301?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603301?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603301?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县笔山镇人民政府': {'2022年': '/public/column/6603121?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603121?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603121?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603121?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603121?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603121?type=3&nav=3&sub=5&publicYear=2017&hasContent=true', '2016年': '/public/column/6603121?type=3&nav=3&sub=6&publicYear=2016&hasContent=true'}, '平昌县泥龙镇人民政府': {'2022年': '/public/column/6603661?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603661?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603661?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603661?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603661?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603661?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县岩口镇人民政府': {'2022年': '/public/column/6603701?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603701?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603701?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603701?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603701?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603701?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县镇龙镇人民政府': {'2022年': '/public/column/6603141?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603141?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603141?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603141?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603141?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603141?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县望京镇人民政府': {'2022年': '/public/column/6603281?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6603281?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6603281?type=3&nav=3&sub=2&publicYear=2020&hasContent=true', '2019年': '/public/column/6603281?type=3&nav=3&sub=3&publicYear=2019&hasContent=true', '2018年': '/public/column/6603281?type=3&nav=3&sub=4&publicYear=2018&hasContent=true', '2017年': '/public/column/6603281?type=3&nav=3&sub=5&publicYear=2017&hasContent=true'}, '平昌县江家口镇人民政府': {'2022年': '/public/column/6604071?type=3&nav=3&sub=0&publicYear=2022&hasContent=true', '2021年': '/public/column/6604071?type=3&nav=3&sub=1&publicYear=2021&hasContent=true', '2020年': '/public/column/6604071?type=3&nav=3&sub=2&publicYear=2020&hasContent=true'}}
    # bumen_Mennu_list={ '平昌县农业农村局': {'机关简介': '/public/column/6602101?type=4&action=list&nav=2&sub=0&catId=6715841', '规划计划': '/public/column/6602101?type=4&action=list&nav=2&sub=1&catId=6715861', '统计信息': '/public/column/6602101?type=4&action=list&nav=2&sub=2&catId=6715871', '预算/决算': '/public/column/6602101?type=4&action=list&nav=2&sub=3&catId=6715891', '收费项目': '/public/column/6602101?type=4&action=list&nav=2&sub=4&catId=6715901', '涉农补贴': '/public/column/6602101?type=4&action=list&nav=2&sub=5&catId=6715911', '重大项目': '/public/column/6602101?type=4&action=list&nav=2&sub=6&catId=6715921', '农产品价格监测': '/public/column/6602101?type=4&action=list&nav=2&sub=7&catId=6715931', '其他法定信息': '/public/column/6602101?type=4&action=list&nav=2&sub=8&catId=6715951'}, '平昌县商务局': {'机关简介': '/public/column/6602121?type=4&action=list&nav=2&sub=0&catId=6715841', '规划计划': '/public/column/6602121?type=4&action=list&nav=2&sub=1&catId=6715861', '统计信息': '/public/column/6602121?type=4&action=list&nav=2&sub=2&catId=6715871', '预算/决算': '/public/column/6602121?type=4&action=list&nav=2&sub=3&catId=6715891', '重大民生信息': '/public/column/6602121?type=4&action=list&nav=2&sub=4&catId=6715931', '其他法定信息': '/public/column/6602121?type=4&action=list&nav=2&sub=5&catId=6715951'},}
    years_to_check = [str(year) + '年' for year in range(2018, 2023)]
    missing_years_dict = {}
    for unit, years in bumen_Mennu_list.items():
        missing_years = [year for year in years_to_check if year not in years.keys()]
        if missing_years:
            # print(f"单位 {unit} 缺少以下年份: {', '.join(missing_years)}")
            missing_years_dict[unit] = missing_years

            # print(f"单位 {unit} 的年份完整。")
        # for year, link in years.items():
        #     try:
        #         if not link.startswith('http'):
        #             link = 'http://www.scpc.gov.cn' + link
        #         response = requests.get(link)
        #         if response.status_code == 200:
        #             print(f"链接 {link} 可以打开，返回200。")
        #         else:
        #             print(f"链接 {link} 返回了 {response.status_code}。")
        #     except Exception as e:
        #         print(f"无法打开链接 {link}，错误信息: {str(e)}")
    print(missing_years_dict)

    # missing_years_dict = {'平昌县商务局': ['2018年', '2019年'], '平昌县退役军人事务局': ['2018年', '2019年'], '平昌县信访局': ['2018年', '2019年'], '平昌县医疗保障局': ['2018年', '2019年'], '平昌县金宝街道办事处': ['2018年', '2019年'], '平昌县驷马镇人民政府': ['2020年'], '平昌县三十二梁镇人民政府': ['2018年', '2019年'], '平昌县江家口镇人民政府': ['2018年', '2019年']}
    # sendMsg(missing_years_dict)

    # final_dic = {}
    # for key, value in bumen_Mennu_list.items():
    #     print(key)
    #     menu_Dic = {}
    #     for menu, href in value.items():
    #         print(menu)
    #         if key == '平昌县人民政府办公室' :
    #             continue
    #         if menu != '机关简介':
    #             continue
    #         upTime = getTime(None, href)
    #         print('uptime',upTime)
    #         if upTime =='无':
    #             sendMsgError(f"## 死链监测：\n以下位置无内容，请及时审核发布",f"{key}-{menu}")
    #             continue
    #         days = cacul(upTime)
    #         print(days)
    #         # 判断时间差是否超过6个月
    #         if days > 180:
    #             menu_Dic[menu] =upTime
    #
    #     if len(menu_Dic) != 0:
    #         final_dic[key] = menu_Dic
    # print(final_dic)




   #  msg = {'平昌县发展和改革局': {'机关简介': '2023-05-04'}, '平昌县公安局': {'机关简介': '2023-05-04'}, '平昌县财政局': {'机关简介': '2023-05-04'}, '平昌县文化广播电视和旅游局': {'机关简介': '2023-05-04'}, '平昌县卫生健康局': {'机关简介': '2023-05-04'}, '平昌县应急管理局': {'机关简介': '2023-03-29'}, '巴中市平昌生态环境局': {'机关简介': '2023-05-04'}, '平昌县乡村振兴局': {'机关简介': '2023-05-04'}, '平昌县医疗保障局': {'机关简介': '2023-05-04'}, '平昌县行政审批局': {'机关简介': '2023-05-04'}, '平昌县综合行政执法局': {'机关简介': '2023-05-04'}, '平昌县金宝新区管理委员会': {'机关简介': '2023-05-04'}, '平昌县金宝街道办事处': {'机关简介': '2023-05-04'}, '平昌县白衣镇人民政府': {'机关简介': '2023-05-04'}, '平昌县龙岗镇人民政府': {'机关简介': '2023-05-04'}, '平昌县大寨镇人民政府': {'机关简介': '2023-05-04'}, '平昌县澌岸镇人民政府': {'机关简介': '2023-05-04'}, '平昌县粉壁镇人民政府': {'机关简介': '2023-05-04'}, '平昌县元山镇人民政府': {'机关简介': '2023-05-04'}, '平昌县灵山镇人民政府': {'机关简介': '2023-05-04'}, '平昌县土兴镇人民政府': {'机关简介': '2023-05-04'}, '平昌县三十二梁镇人民政府': {'机关简介': '2023-05-04'}, '平昌县板庙镇人民政府': {'机关简介': '2023-05-04'}, '平昌县泥龙镇人民政府': {'机关简介': '2023-05-04'}, '平昌县岩口镇人民政府': {'机关简介': '2023-05-04'}, '平昌县望京镇人民政府': {'机关简介': '2023-05-04'}, '平昌县江家口镇人民政府': {'机关简介': '2023-05-04'}}
   #
   # # msg = {'平昌县发展和改革局': {'机关简介': '2023-05-04', '预算/决算': '2023-06-12'}, '平昌县经济和信息化局': {'机关简介': '2023-05-08', '规划计划': '2023-05-08', '预算/决算': '2023-03-31', '其他法定信息': '2023-04-20'}, '平昌县教育科技和体育局': {'规划计划': '2023-03-15', '预算/决算': '2023-03-31'}, '平昌县公安局': {'机关简介': '2023-05-04', '收费项目': '2023-06-13'}, '平昌县民政局': {'规划计划': '2023-06-09', '预算/决算': '2023-05-06'}, '平昌县司法局': {'规划计划': '2023-08-03', '统计信息': '2023-08-03', '预算/决算': '2023-05-25', '收费项目': '2023-08-03', '司法监督': '2023-08-03', '其他法定信息': '2023-08-03'}, '平昌县财政局': {'机关简介': '2023-05-04', '规划计划': '2023-04-17', '预算/决算': '2023-05-26', '收费项目': '2023-06-09'}, '平昌县人力资源和社会保障局': {'机关简介': '2023-05-16', '规划计划': '2023-03-02', '统计信息': '2023-07-13', '预算/决算': '2023-03-06', '收费项目': '2023-06-12'}, '平昌县自然资源和规划局': {'预算/决算': '2023-03-31', '收费项目': '2023-06-09'}, '平昌县住房和城乡建设局': {'规划计划': '2023-03-20'}, '平昌县交通运输局': {'规划计划': '2023-03-28', '预算/决算': '2023-03-03'}, '平昌县水利局': {'预算/决算': '2023-03-31', '收费项目': '2023-06-11'}, '平昌县农业农村局': {'规划计划': '2023-01-05', '预算/决算': '2023-06-09'}, '平昌县商务局': {'规划计划': '2023-06-20', '预算/决算': '2023-03-31', '其他法定信息': '2023-06-12'}, '平昌县文化广播电视和旅游局': {'机关简介': '2023-05-04', '规划计划': '2023-07-14', '预算/决算': '2023-05-31'}, '平昌县卫生健康局': {'机关简介': '2023-05-04', '规划计划': '2023-05-06', '统计信息': '2023-07-17', '预算/决算': '2023-06-16', '重大项目': '2023-07-14'}, '平昌县退役军人事务局': {'预算/决算': '2023-06-14', '重大民生信息': '2023-05-26', '其他法定信息': '2023-07-14'}, '平昌县应急管理局': {'机关简介': '2023-03-29', '规划计划': '2023-06-09'}, '平昌县审计局': {'统计信息': '2023-07-04'}, '平昌县市场监督管理局': {'规划计划': '2023-04-06', '预算/决算': '2023-06-05'}, '巴中市平昌生态环境局': {'机关简介': '2023-05-04', '规划计划': '2023-02-07', '预算/决算': '2023-01-11'}, '平昌县统计局': {'机关简介': '2023-07-20', '规划计划': '2023-04-19', '预算/决算': '2023-04-04', '收费项目': '2023-06-09', '重大项目': '2023-08-01'}, '平昌县乡村振兴局': {'机关简介': '2023-05-04', '规划计划': '2023-06-16', '预算/决算': '2023-06-14'}, '平昌县信访局': {'规划计划': '2023-04-25', '预算/决算': '2023-06-19'}, '平昌县林业局': {'规划计划': '2023-07-05', '预算/决算': '2023-04-12'}, '平昌县医疗保障局': {'机关简介': '2023-05-04', '规划计划': '2023-07-17'}, '平昌县行政审批局': {'机关简介': '2023-05-04', '规划计划': '2023-03-20', '预算/决算': '2022-12-02'}, '平昌县综合行政执法局': {'机关简介': '2023-05-04', '规划计划': '2023-05-11', '预算/决算': '2023-05-11'}, '四川平昌经济开发区管理委员会': {'机关简介': '2023-07-06', '预算/决算': '2023-05-30'}, '平昌县金宝新区管理委员会': {'机关简介': '2023-05-04', '规划计划': '2023-06-12', '预算/决算': '2023-05-25'}, '平昌县佛头山管理委员会': {'规划计划': '2023-06-12'}, '平昌县同州街道办事处': {'规划计划': '2023-04-11', '预算/决算': '2023-06-05'}, '平昌县江口街道办事处': {'规划计划': '2023-04-23', '预算/决算': '2023-04-23'}, '平昌县金宝街道办事处': {'机关简介': '2023-05-04', '预算/决算': '2023-06-12'}, '平昌县白衣镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-07-17', '预算/决算': '2023-08-03'}, '平昌县涵水镇人民政府': {'政府工作报告': '2022-08-31', '规划计划': '2023-06-14', '预算/决算': '2023-06-01'}, '平昌县岳家镇人民政府': {'政府工作报告': '2023-04-23'}, '平昌县西兴镇人民政府': {'政府工作报告': '2021-12-02', '预算/决算': '2022-03-27'}, '平昌县龙岗镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-03-30', '规划计划': '2023-06-29', '预算/决算': '2023-06-29'}, '平昌县土垭镇人民政府': {'机关简介': '2023-05-31', '政府工作报告': '2023-04-04', '规划计划': '2023-03-23', '预算/决算': '2023-04-04'}, '平昌县佛楼镇人民政府': {'机关简介': '2023-06-08', '政府工作报告': '2023-04-04', '规划计划': '2023-04-04', '预算/决算': '2023-06-12'}, '平昌县响滩镇人民政府': {'机关简介': '2023-07-03', '政府工作报告': '2023-04-21', '规划计划': '2023-04-19', '预算/决算': '2023-04-04'}, '平昌县大寨镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-01-03', '规划计划': '2022-07-18', '预算/决算': '2023-01-12'}, '平昌县驷马镇人民政府': {'政府工作报告': '2023-05-31', '规划计划': '2023-05-05'}, '平昌县青云镇人民政府': {'政府工作报告': '2023-03-30', '规划计划': '2023-02-28', '预算/决算': '2023-07-14'}, '平昌县兰草镇人民政府': {'机关简介': '2023-06-30', '政府工作报告': '2022-04-11', '规划计划': '2023-03-10', '预算/决算': '2023-04-04'}, '平昌县澌岸镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-14', '规划计划': '2023-01-11', '预算/决算': '2023-04-05'}, '平昌县粉壁镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-03', '重大项目': '2022-02-26'}, '平昌县得胜镇人民政府': {'政府工作报告': '2023-04-04', '规划计划': '2023-02-28', '预算/决算': '2023-05-19'}, '平昌县元山镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-03-31', '规划计划': '2023-06-30'}, '平昌县灵山镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-04', '规划计划': '2023-07-13', '预算/决算': '2023-04-04'}, '平昌县土兴镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-19', '预算/决算': '2023-05-30'}, '平昌县云台镇人民政府': {'政府工作报告': '2023-05-08', '规划计划': '2023-05-08', '预算/决算': '2023-07-17'}, '平昌县三十二梁镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-27', '预算/决算': '2022-08-23'}, '平昌县板庙镇人民政府': {'机关简介': '2023-05-04'}, '平昌县邱家镇人民政府': {'机关简介': '2023-06-20', '政府工作报告': '2023-05-24', '规划计划': '2023-04-20', '预算/决算': '2023-04-19', '重大项目': '2023-06-08', '其他法定信息': '2023-03-11'}, '平昌县笔山镇人民政府': {'机关简介': '2023-06-19', '政府工作报告': '2023-03-03', '规划计划': '2022-12-19', '预算/决算': '2022-10-31'}, '平昌县泥龙镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-18'}, '平昌县岩口镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-18', '预算/决算': '2022-09-07', '重大项目': '2023-07-18'}, '平昌县镇龙镇人民政府': {'机关简介': '2023-06-25', '政府工作报告': '2023-03-30', '规划计划': '2023-04-17'}, '平昌县望京镇人民政府': {'机关简介': '2023-05-04', '政府工作报告': '2023-04-20', '规划计划': '2023-05-16', '统计信息': '2023-07-25', '预算/决算': '2023-04-19'}, '平昌县江家口镇人民政府': {'机关简介': '2023-05-04', '预算/决算': '2023-05-08', '重大项目': '2023-02-13', '重大民生信息': '2023-02-15'}}
   #  print(len(msg))
   #  sendMsg(final_dic)
